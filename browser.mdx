---
title: Browsing
icon: browser
iconType: light
description: Unblock difficult-to-crawl websites.
---

## Usage

**Agent First’s** browser service surfs intelligently on your behalf, rendering JavaScript, solving
[CAPTCHAs](https://www.ibm.com/topics/captcha), and retrying failed requests along the way. The
service has a RESTful interface that accepts `GET` requests at
**https://&zwj;api.agentfirst.dev/browser**.

All API requests are authenticated with [Bearer tokens](authentication) and optionally routed with
[geotargeting parameters](geotargeting).

Webpages are retrieved in real time by default or can be queued for [later retrieval](queuing). Up
to **120 seconds** is allotted per real-time API request to accommodate CAPTCHA-solving, multiple
retries, and other mitigations.

### Parameters

In addition to the geotargeting and queuing parameters mentioned above, required and optional
browsing parameters can be appended with a
[standard query string](https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_is_a_URL#parameters).
The keys and values that **Agent First** supports are as follows:

| Key           | Required | Value                                                                                                                                                                                                                                               |
| :------------ | :------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `url`         | ✅       | The URL of the page to browse; any unsafe characters require [URL encoding](https://developer.mozilla.org/en-US/docs/Glossary/Percent-encoding)                                                                                                     |
| `device`      | ⬜       | The name as returned by the [devices endpoint](#device-emulation) of the device to emulate browsing on (these names are case insensitive but must include form- or URL-encoded spaces and punctuation marks); device emulation is unused by default |
| `expiration`  | ⬜       | The maximum age of cached content in days to accept, where `0` will disable caching; `1` is the default number of days                                                                                                                              |
| `session`     | ⬜       | Any unique identifier of up to 255 characters (regardless of character encoding); **Agent First** will make best efforts to route requests in the same session to the same egress node                                                              |
| `subaccount`  | ⬜       | Any unique identifier of up to 255 characters (regardless of character encoding); **Agent First** will bill requests made from subaccounts separately                                                                                               |

### Device emulation

The `device` parameter lets you fetch device-specific content, rather than the default desktop
content. For a list of supported smartphone and tablet devices, make a request with your API token
and no parameters to **https://&zwj;api.agentfirst.dev/browser/devices**:

```bash
$ curl -H "Authorization: Bearer $AGENT_FIRST_TOKEN"            \
  'https://api.agentfirst.dev/browser/devices'
```

The API will return JSON that contains an alphabetized array of device names:

```json
[
  "Blackberry PlayBook",
  "Blackberry PlayBook landscape",
  "BlackBerry Z30",
  "[Remaining device names here]"
]
```

### Response specification

Pages are returned in their rendered HTML.

## More examples

### Device emulation

```bash
$ curl -H "Authorization: Bearer $AGENT_FIRST_TOKEN" \
  'https://api.agentfirst.dev/browser'\
  '?url=https://example.com/'\
  '&device=blackberry+playbook'
```

### Geotargeting

```bash
$ curl -H "Authorization: Bearer $AGENT_FIRST_TOKEN" \
  'https://api.agentfirst.dev/browser'\
  '?url=https://example.com/'\
  '&country=us'\
  '&city=nashville'
```

### Cachebusting

```bash
$ curl -H "Authorization: Bearer $AGENT_FIRST_TOKEN" \
  'https://api.agentfirst.dev/browser'\
  '?url=https://example.com/'\
  '&expiration=0'
```

### Other parameters

```bash
$ curl -H "Authorization: Bearer $AGENT_FIRST_TOKEN" \
  'https://api.agentfirst.dev/browser'\
  '?url=https://example.com/'\
  '&session=foo'\
  '&subaccount=bar'
```
